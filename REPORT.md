# Software Validation Report - SmartTracking MIA

## 1. Requirements

The project targets a Smart Tracking system handling Users and Devices (Sensors).
Key Functional Requirements include:
- **Authentication**: Users must log in (Username/Password).
- **User Management**: Admins can manage users (Create, List, Edit).
- **Device Management**: Admins can provision, list, and decommission devices.
- **Provisioning**: Devices are activated via tokens or QR codes.
- **Role-Based Access Control**: Separation between ADMIN and USER roles.

## 2. Scenarios (Acceptance Tests)

The following scenarios are automated in `AcceptanceWebTest.java`:

### Scenario 1: Login and Profile
**Goal**: Verify a user can access the system.
**Steps**:
1. Navigate to `/signIn`.
2. Enter valid credentials.
3. Assert access to `/dashboard` or user specific pages.
4. Navigate to `/profile` and verify header.

### Scenario 2: Admin User Creation
**Goal**: Verify Admins can initiate user registration.
**Steps**:
1. Login as Admin.
2. Navigate to User Administration (`/admin/users`).
3. Verify access to registration controls.

### Scenario 3: Device Assignment
**Goal**: Ensure Admin sees device controls.
**Steps**:
1. Login as Admin.
2. Navigate to `/web/devices`.
3. Verify presence of "Provisioning with Qrcode" or actions bar.

### Scenario 4: Provisioning Activation
**Goal**: Verify the provisioning page is accessible.
**Steps**:
1. Login as Admin.
2. Navigate to `/web/provision`.
3. Assert page load (check for checks against 404/Error).

### Scenario 5: Permissions Check
**Goal**: Verify security boundaries.
**Steps**:
1. Login as Standard User (`pippo`).
2. Attempt to access `/admin/users`.
3. Assert access is denied (403) or redirected to error/login.

## 3. Quality Assurance Strategy

### Test Pyramid
1.  **Unit Tests**: Located in `it.univr.track.services`, these tests cover the core business logic (`UserAuthenticationService`, `UserAdminService`, `DeviceProvisioningService`) using **JUnit 5** and **Mockito**. They run fast and in isolation.
2.  **Integration/Acceptance Tests (API)**: Located in `AcceptanceApiTest`, these verify that the Controllers answer correctly to HTTP requests using **REST Assured**.
3.  **E2E/UI Tests**: Located in `AcceptanceWebTest`, these simulate real user behavior on the browser using **Selenium** with **HtmlUnitDriver** (a fast, headless Java browser).

### Coverage
To generate and view the coverage report:
1. Run `./gradlew test jacocoTestReport`
2. Open `build/reports/jacoco/test/html/index.html` in a browser.

The project is configured to enforce high code coverage on the business services.

---
*Generated by GitHub Copilot*
